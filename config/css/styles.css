/* Hauptstil für die Anwendung */
.root {
    -fx-font-family: 'Segoe UI', Arial, sans-serif;
    -fx-font-size: 12px;
    -fx-background-color: #ffffff;
}

/* Dialog-Styling für alle Themes */
.dialog-pane {
    -fx-background-color: inherit;
}

.dialog-pane .header-panel {
    -fx-background-color: inherit;
}

.dialog-pane .content {
    -fx-background-color: inherit;
}

.dialog-pane .button {
    -fx-background-color: inherit;
    -fx-text-fill: inherit;
    -fx-border-color: inherit;
}

.dialog-pane .button:hover {
    -fx-background-color: inherit;
    -fx-text-fill: inherit;
}

.dialog-pane .button:pressed {
    -fx-background-color: inherit;
    -fx-text-fill: inherit;
}

.dialog-pane .label {
    -fx-text-fill: inherit;
}

.dialog-pane .text {
    -fx-fill: inherit;
}

/* Spezielle Dialog-Regeln für Theme-4 (Grün) */
.dialog-pane.theme-4 {
    -fx-background-color: #064e3b;
}

.dialog-pane.theme-4 .header-panel {
    -fx-background-color: #064e3b;
}

.dialog-pane.theme-4 .content {
    -fx-background-color: #064e3b;
}

.dialog-pane.theme-4 .button {
    -fx-background-color: #065f46;
    -fx-text-fill: #ffffff;
    -fx-border-color: #047857;
}

.dialog-pane.theme-4 .button:hover {
    -fx-background-color: #047857;
    -fx-text-fill: #ffffff;
}

.dialog-pane.theme-4 .button:pressed {
    -fx-background-color: #065f46;
    -fx-text-fill: #ffffff;
}

.dialog-pane.theme-4 .label {
    -fx-text-fill: #ffffff;
}

.dialog-pane.theme-4 .text {
    -fx-fill: #ffffff;
}



/* Button-Styling - Entfernt, damit Theme-spezifische Regeln greifen */



/* TextField-Styling */
.text-field {
    -fx-background-color: white;
    -fx-border-color: #ddd;
    -fx-border-radius: 4px;
    -fx-background-radius: 4px;
    -fx-padding: 6px 8px;
}

.text-field:focused {
    -fx-border-color: #2196F3;
    -fx-border-width: 2px;
}

/* Plugin Editor Window Styling */
.plugin-editor-window {
    -fx-background-color: #f8f9fa;
}

.plugin-editor-stage {
    -fx-background-color: #f8f9fa;
}

.plugin-editor-window .tool-bar {
    -fx-background-color: #e9ecef;
    -fx-border-color: #dee2e6;
    -fx-border-width: 0 0 1 0;
}

.plugin-editor-window .button {
    -fx-background-color: #007bff;
    -fx-text-fill: white;
    -fx-border-radius: 4px;
    -fx-background-radius: 4px;
    -fx-padding: 8px 16px;
    -fx-font-weight: bold;
}

.plugin-editor-window .button:hover {
    -fx-background-color: #0056b3;
}

.plugin-editor-window .button:pressed {
    -fx-background-color: #004085;
}

.plugin-editor-window .text-field {
    -fx-background-color: white;
    -fx-border-color: #ced4da;
    -fx-border-radius: 4px;
    -fx-background-radius: 4px;
    -fx-padding: 8px 12px;
}

.plugin-editor-window .text-field:focused {
    -fx-border-color: #007bff;
    -fx-border-width: 2px;
}

.plugin-editor-window .text-area {
    -fx-background-color: white;
    -fx-border-color: #ced4da;
    -fx-border-radius: 4px;
    -fx-background-radius: 4px;
    -fx-padding: 8px 12px;
}

.plugin-editor-window .text-area:focused {
    -fx-border-color: #007bff;
    -fx-border-width: 2px;
}

.plugin-editor-window .spinner {
    -fx-background-color: white;
    -fx-border-color: #ced4da;
    -fx-border-radius: 4px;
    -fx-background-radius: 4px;
}

.plugin-editor-window .spinner:focused {
    -fx-border-color: #007bff;
    -fx-border-width: 2px;
}

.plugin-editor-window .label {
    -fx-text-fill: #495057;
    -fx-font-weight: bold;
}

.plugin-editor-window .code-area {
    -fx-background-color: #f8f9fa;
    -fx-border-color: #dee2e6;
    -fx-border-radius: 4px;
    -fx-background-radius: 4px;
    -fx-font-family: 'Consolas', 'Monaco', monospace;
    -fx-font-size: 13px;
}

.plugin-editor-window .code-area:focused {
    -fx-border-color: #007bff;
    -fx-border-width: 2px;
}

/* ComboBox-Styling */
.combo-box {
    -fx-background-color: white;
    -fx-border-color: #ddd;
    -fx-border-radius: 4px;
    -fx-background-radius: 4px;
}

.combo-box:focused {
    -fx-border-color: #2196F3;
    -fx-border-width: 2px;
}

/* CheckBox-Styling - Vollständig und mit !important */
.check-box .box {
    -fx-background-color: white !important;
    -fx-border-color: #ccc !important;
    -fx-border-width: 1px !important;
    -fx-border-radius: 2px !important;
    -fx-background-radius: 2px !important;
    -fx-min-width: 16px !important;
    -fx-min-height: 16px !important;
    -fx-max-width: 16px !important;
    -fx-max-height: 16px !important;
}




.check-box .mark {
    -fx-background-color: transparent !important;
    -fx-shape: "M 1 6 L 4 9 L 9 2 L 8 1 L 4 8 L 2 6 Z" !important;
    -fx-scale-x: 0.6 !important;
    -fx-scale-y: 0.6 !important;
    -fx-translate-x: 1px !important;
    -fx-translate-y: 1px !important;
}

.check-box:selected .mark {
    -fx-background-color: white !important;
    -fx-shape: "M 1 6 L 4 9 L 9 2 L 8 1 L 4 8 L 2 6 Z" !important;
    -fx-scale-x: 0.6 !important;
    -fx-scale-y: 0.6 !important;
    -fx-translate-x: 1px !important;
    -fx-translate-y: 1px !important;
}

.check-box:hover .box {
    -fx-border-color: #2196F3 !important;
}

.check-box:indeterminate .box {
    -fx-background-color: #f0f0f0 !important;
    -fx-border-color: #999 !important;
}

.check-box:indeterminate .mark {
    -fx-background-color: #666 !important;
    -fx-shape: "M 0 2 L 4 6 L 8 2 Z" !important;
}
/* Separator-Styling */
.separator {
    -fx-background-color: #ddd;
}

/* TableView-Styling - Hell (Hauptmenü) - nur wenn kein Theme aktiv */
/* Tabellen-Styling - Allgemein (weißes Theme) */
.table-view {
    -fx-background-color: white;
    -fx-border-color: #666;
    -fx-border-width: 1px;
}

/* Theme-spezifische Tabellen-Hintergründe - VirtualFlow */
.theme-dark #tableViewAvailable .virtual-flow .clipped-container .sheet,
.theme-dark #tableViewSelected .virtual-flow .clipped-container .sheet {
    -fx-background-color: #2d3748;
}

.theme-4 #tableViewAvailable .virtual-flow .clipped-container .sheet,
.theme-4 #tableViewSelected .virtual-flow .clipped-container .sheet {
    -fx-background-color: #064e3b;
}

.theme-5 #tableViewAvailable .virtual-flow .clipped-container .sheet,
.theme-5 #tableViewSelected .virtual-flow .clipped-container .sheet {
    -fx-background-color: #1e3a8a;
}

.theme-6 #tableViewAvailable .virtual-flow .clipped-container .sheet,
.theme-6 #tableViewSelected .virtual-flow .clipped-container .sheet {
    -fx-background-color: #581c87;
}

/* Theme-spezifische Tabellen-Hintergründe - Direkt */
.theme-dark #tableViewAvailable,
.theme-dark #tableViewSelected {
    -fx-background-color: #2d3748;
}

.theme-4 #tableViewAvailable,
.theme-4 #tableViewSelected {
    -fx-background-color: #064e3b;
}

.theme-5 #tableViewAvailable,
.theme-5 #tableViewSelected {
    -fx-background-color: #1e3a8a;
}

.theme-6 #tableViewAvailable,
.theme-6 #tableViewSelected {
    -fx-background-color: #581c87;
}

.table-view .column-header {
    -fx-background-color: #f0f0f0;
    -fx-border-color: #ccc;
    -fx-border-width: 0 0 1 0;
}

.table-view .column-header .label {
    -fx-text-fill: black;
    -fx-font-weight: bold;
}

.table-view .table-row-cell {
    -fx-background-color: white;
    -fx-text-fill: black;
}

.table-view .table-row-cell:odd {
    -fx-background-color: #f9f9f9;
}

.table-view .table-row-cell:selected {
    -fx-background-color: #0066cc;
    -fx-text-fill: white;
}

.table-view .table-row-cell:hover {
    -fx-background-color: #e6f3ff;
}

.table-view .table-cell {
    -fx-text-fill: black;
}

.table-view .table-row-cell:selected .table-cell {
    -fx-text-fill: white;
}

.table-view .table-row-cell:selected:hover {
    -fx-background-color: #004499;
    -fx-text-fill: white;
}

/* ========================================
   PLACEHOLDER-STYLING (Leere Tabellen)
   ======================================== */

/* Standard Placeholder (Weißes Theme) */
.table-view .placeholder {
    -fx-background-color: #ffffff;
    -fx-border-color: #dee2e6;
    -fx-border-width: 1px;
    -fx-border-radius: 4px;
    -fx-background-radius: 4px;
}

.table-view .placeholder .label {
    -fx-text-fill: #6c757d;
    -fx-font-size: 14px;
    -fx-font-style: italic;
}

/* Theme-spezifische Placeholder-Regeln */
.theme-dark .table-view .placeholder {
    -fx-background-color: #2d3748;
    -fx-border-color: #4a5568;
}

.theme-dark .table-view .placeholder .label {
    -fx-text-fill: #e2e8f0;
}

.theme-4 .table-view .placeholder {
    -fx-background-color: #064e3b;
    -fx-border-color: #047857;
}

.theme-4 .table-view .placeholder .label {
    -fx-text-fill: #d1fae5;
}

.theme-5 .table-view .placeholder {
    -fx-background-color: #1e3a8a;
    -fx-border-color: #3b82f6;
}

.theme-5 .table-view .placeholder .label {
    -fx-text-fill: #dbeafe;
}

.theme-6 .table-view .placeholder {
    -fx-background-color: #581c87;
    -fx-border-color: #8b5cf6;
}

.theme-6 .table-view .placeholder .label {
    -fx-text-fill: #f3e8ff;
}

/* Alte Theme-Regeln entfernt - werden durch neue .root-Regeln ersetzt */

/* Neue Theme-Klassen (konsistent mit restlicher App) - PROFESSIONELLE Implementierung */
/* Blau-Theme */
.root .blau-theme .table-view {
    -fx-background-color: #1e3a8a !important;
    -fx-text-fill: #ffffff !important;
}

.root .blau-theme .table-view .virtual-flow .clipped-container .sheet {
    -fx-background-color: #1e3a8a !important;
}

.root .blau-theme .table-view .column-header-background {
    -fx-background-color: #2563eb !important;
}

.root .blau-theme .table-view .column-header .label {
    -fx-text-fill: #ffffff !important;
    -fx-font-weight: bold;
}

.root .blau-theme .table-view .table-row-cell {
    -fx-background-color: #1e3a8a !important;
    -fx-text-fill: #ffffff !important;
}

.root .blau-theme .table-view .table-row-cell .table-cell {
    -fx-text-fill: #ffffff !important;
}

.root .blau-theme .table-view .table-row-cell:odd {
    -fx-background-color: #2563eb !important;
}

.root .blau-theme .table-view .table-row-cell:selected {
    -fx-background-color: #3b82f6 !important;
}

.root .blau-theme .table-view .table-row-cell:selected .table-cell {
    -fx-text-fill: #ffffff !important;
}

.root .blau-theme .table-view .placeholder .label {
    -fx-text-fill: #dbeafe !important;
}

/* Scrollbalken für Blau-Theme */
.root .blau-theme .table-view .corner {
    -fx-background-color: #1e3a8a !important;
}

.root .blau-theme .table-view .filler {
    -fx-background-color: #1e3a8a !important;
}

.root .blau-theme .table-view .scroll-bar {
    -fx-background-color: #1e3a8a !important;
}

.root .blau-theme .table-view .scroll-bar .thumb {
    -fx-background-color: #60a5fa !important;
}

.root .blau-theme .table-view .scroll-bar .track {
    -fx-background-color: #1e3a8a !important;
}

.root .blau-theme .table-view .scroll-bar .increment-button,
.root .blau-theme .table-view .scroll-bar .decrement-button {
    -fx-background-color: #1e3a8a !important;
}

/* Grün-Theme */
.root .gruen-theme .table-view {
    -fx-background-color: #064e3b !important;
    -fx-text-fill: #ffffff !important;
}

.root .gruen-theme .table-view .virtual-flow .clipped-container .sheet {
    -fx-background-color: #064e3b !important;
}

.root .gruen-theme .table-view .column-header-background {
    -fx-background-color: #065f46 !important;
}

.root .gruen-theme .table-view .column-header .label {
    -fx-text-fill: #ffffff !important;
    -fx-font-weight: bold;
}

.root .gruen-theme .table-view .table-row-cell {
    -fx-background-color: #064e3b !important;
    -fx-text-fill: #ffffff !important;
}

.root .gruen-theme .table-view .table-row-cell .table-cell {
    -fx-text-fill: #ffffff !important;
}

.root .gruen-theme .table-view .table-row-cell:odd {
    -fx-background-color: #065f46 !important;
}

.root .gruen-theme .table-view .table-row-cell:selected {
    -fx-background-color: #047857 !important;
}

.root .gruen-theme .table-view .table-row-cell:selected .table-cell {
    -fx-text-fill: #ffffff !important;
}

.root .gruen-theme .table-view .placeholder .label {
    -fx-text-fill: #d1fae5 !important;
}

/* Scrollbalken für Grün-Theme */
.root .gruen-theme .table-view .corner {
    -fx-background-color: #064e3b !important;
}

.root .gruen-theme .table-view .filler {
    -fx-background-color: #064e3b !important;
}

.root .gruen-theme .table-view .scroll-bar {
    -fx-background-color: #064e3b !important;
}

.root .gruen-theme .table-view .scroll-bar .thumb {
    -fx-background-color: #34d399 !important;
}

.root .gruen-theme .table-view .scroll-bar .track {
    -fx-background-color: #064e3b !important;
}

.root .gruen-theme .table-view .scroll-bar .increment-button,
.root .gruen-theme .table-view .scroll-bar .decrement-button {
    -fx-background-color: #064e3b !important;
}

/* Lila-Theme */
.root .lila-theme .table-view {
    -fx-background-color: #581c87 !important;
    -fx-text-fill: #ffffff !important;
}

.root .lila-theme .table-view .virtual-flow .clipped-container .sheet {
    -fx-background-color: #581c87 !important;
}

.root .lila-theme .table-view .column-header-background {
    -fx-background-color: #7c3aed !important;
}

.root .lila-theme .table-view .column-header .label {
    -fx-text-fill: #ffffff !important;
    -fx-font-weight: bold;
}

.root .lila-theme .table-view .table-row-cell {
    -fx-background-color: #581c87 !important;
    -fx-text-fill: #ffffff !important;
}

.root .lila-theme .table-view .table-row-cell .table-cell {
    -fx-text-fill: #ffffff !important;
}

.root .lila-theme .table-view .table-row-cell:odd {
    -fx-background-color: #7c3aed !important;
}

.root .lila-theme .table-view .table-row-cell:selected {
    -fx-background-color: #8b5cf6 !important;
}

.root .lila-theme .table-view .table-row-cell:selected .table-cell {
    -fx-text-fill: #ffffff !important;
}

.root .lila-theme .table-view .placeholder .label {
    -fx-text-fill: #f3e8ff !important;
}

/* Scrollbalken für Lila-Theme */
.root .lila-theme .table-view .corner {
    -fx-background-color: #581c87 !important;
}

.root .lila-theme .table-view .filler {
    -fx-background-color: #581c87 !important;
}

.root .lila-theme .table-view .scroll-bar {
    -fx-background-color: #581c87 !important;
}

.root .lila-theme .table-view .scroll-bar .thumb {
    -fx-background-color: #a855f7 !important;
}

.root .lila-theme .table-view .scroll-bar .track {
    -fx-background-color: #581c87 !important;
}

.root .lila-theme .table-view .scroll-bar .increment-button,
.root .lila-theme .table-view .scroll-bar .decrement-button {
    -fx-background-color: #581c87 !important;
}

/* TableView-Styling für Pastell-Theme - PROFESSIONELLE Implementierung */
.root .pastell-theme .table-view {
    -fx-background-color: #fef3c7 !important;
    -fx-text-fill: #92400e !important;
}

.root .pastell-theme .table-view .virtual-flow .clipped-container .sheet {
    -fx-background-color: #fef3c7 !important;
}

.root .pastell-theme .table-view .column-header-background {
    -fx-background-color: #fde68a !important;
}

.root .pastell-theme .table-view .column-header .label {
    -fx-text-fill: #92400e !important;
    -fx-font-weight: bold;
}

.root .pastell-theme .table-view .table-row-cell {
    -fx-background-color: #e1bee7 !important;
    -fx-text-fill: #000000 !important;
}

.root .pastell-theme .table-view .table-row-cell .table-cell {
    -fx-text-fill: #000000 !important;
}

.root .pastell-theme .table-view .table-row-cell:odd {
    -fx-background-color: #f3e5f5 !important;
}



/* Zusätzliche Selektoren für TableView-Hintergründe */
.root .pastell-theme .table-view .corner {
    -fx-background-color: #f3e5f5 !important;
}

.root .pastell-theme .table-view .filler {
    -fx-background-color: #f3e5f5 !important;
}

.root .pastell-theme .table-view .scroll-bar {
    -fx-background-color: #f3e5f5 !important;
}

.root .pastell-theme .table-view .scroll-bar .thumb {
    -fx-background-color: #ba68c8 !important;
}



.root .pastell-theme .table-view .scroll-bar .track {
    -fx-background-color: #f3e5f5 !important;
}

.root .pastell-theme .table-view .scroll-bar .increment-button,
.root .pastell-theme .table-view .scroll-bar .decrement-button {
    -fx-background-color: #f3e5f5 !important;
}

.root .pastell-theme .table-view .table-row-cell:selected {
    -fx-background-color: #ba68c8 !important;
}

.root .pastell-theme .table-view .table-row-cell:selected .table-cell {
    -fx-text-fill: #ffffff !important;
}

.root .pastell-theme .table-view .placeholder .label {
    -fx-text-fill: #92400e !important;
}

/* Weiß-Theme (explizit) */
/* TableView-Styling für Weiss-Theme - PROFESSIONELLE Implementierung */
.root .weiss-theme .table-view {
    -fx-background-color: #ffffff !important;
    -fx-text-fill: #111827 !important;
}

.root .weiss-theme .table-view .virtual-flow .clipped-container .sheet {
    -fx-background-color: #ffffff !important;
}

.root .weiss-theme .table-view .column-header-background {
    -fx-background-color: #f8f9fa !important;
}

.root .weiss-theme .table-view .column-header .label {
    -fx-text-fill: #111827 !important;
    -fx-font-weight: bold;
}

.root .weiss-theme .table-view .table-row-cell {
    -fx-background-color: #ffffff !important;
    -fx-text-fill: #111827 !important;
}

.root .weiss-theme .table-view .table-row-cell .table-cell {
    -fx-text-fill: #111827 !important;
}

.root .weiss-theme .table-view .table-row-cell:odd {
    -fx-background-color: #f8f9fa !important;
}

/* Zusätzliche Selektoren für TableView-Hintergründe */
.root .weiss-theme .table-view .corner {
    -fx-background-color: #ffffff !important;
}

.root .weiss-theme .table-view .filler {
    -fx-background-color: #ffffff !important;
}

.root .weiss-theme .table-view .scroll-bar {
    -fx-background-color: #ffffff !important;
}

.root .weiss-theme .table-view .scroll-bar .thumb {
    -fx-background-color: #d1d5db !important;
}

.root .weiss-theme .table-view .scroll-bar .track {
    -fx-background-color: #ffffff !important;
}

.root .weiss-theme .table-view .table-row-cell:selected {
    -fx-background-color: #dbeafe !important;
}

.root .weiss-theme .table-view .table-row-cell:selected .table-cell {
    -fx-text-fill: #111827 !important;
}

.root .weiss-theme .table-view .placeholder .label {
    -fx-text-fill: #111827 !important;
}

/* TextArea-Styling */
.text-area {
    -fx-background-color: white;
    -fx-border-color: #ddd;
    -fx-border-radius: 4px;
    -fx-background-radius: 4px;
    -fx-font-family: 'Consolas', 'Monaco', monospace;
    -fx-font-size: 11px;
}

.text-area .content {
    -fx-background-color: white;
}

/* =============================
   Theme-spezifisches Styling für Accordion/TitledPane/TextArea
   ============================= */

/* Helper: weiße Theme */
.weiss-theme .titled-pane > .title {
    -fx-background-color: #f5f5f5;
    -fx-text-fill: #111827;
}
.weiss-theme .titled-pane > *.content {
    -fx-background-color: #ffffff;
}
.weiss-theme .accordion {
    -fx-background-color: #f5f5f5;
}
.weiss-theme .text-area {
    -fx-text-fill: #111827 !important;
    -fx-background-color: #ffffff;
}
.weiss-theme .text-area .content {
    -fx-background-color: #ffffff !important;
    -fx-text-fill: #111827 !important;
}
.weiss-theme .text-field {
    -fx-text-fill: #111827 !important;
    -fx-background-color: #ffffff !important;
}
.weiss-theme .label {
    -fx-text-fill: #111827 !important;
}
.weiss-theme .button {
    -fx-text-fill: #111827 !important;
}
.weiss-theme .combo-box {
    -fx-text-fill: #111827 !important;
}
.weiss-theme .combo-box .list-cell {
    -fx-text-fill: #111827 !important;
}
.weiss-theme .vbox,
.weiss-theme .hbox,
.weiss-theme .border-pane,
.weiss-theme .split-pane,
.weiss-theme .scroll-pane,
.weiss-theme .pane,
.weiss-theme .region,
.weiss-theme .stack-pane,
.weiss-theme .grid-pane,
.weiss-theme .flow-pane,
.weiss-theme .tile-pane,
.weiss-theme .anchor-pane {
    -fx-background-color: #ffffff !important;
}
.weiss-theme .vbox .label,
.weiss-theme .hbox .label,
.weiss-theme .border-pane .label,
.weiss-theme .split-pane .label,
.weiss-theme .scroll-pane .label {
    -fx-text-fill: #111827 !important;
}

/* SplitPane-Divider für helle Themes */
.weiss-theme .split-pane-divider {
    -fx-background-color: #d1d5db !important;
}
.weiss-theme .split-pane-divider:hover {
    -fx-background-color: #9ca3af !important;
}

/* Spezielle Styles für Kapiteltitel-Box im Editor */
.weiss-theme .chapter-title-box,
.weiss-theme .chapter-title-panel,
.weiss-theme .chapter-title-container,
.weiss-theme .chapter-header,
.weiss-theme .chapter-header-panel,
.weiss-theme .chapter-header-container {
    -fx-background-color: #ffffff !important;
}

.weiss-theme .chapter-title-box .label,
.weiss-theme .chapter-title-panel .label,
.weiss-theme .chapter-title-container .label,
.weiss-theme .chapter-header .label,
.weiss-theme .chapter-header-panel .label,
.weiss-theme .chapter-header-container .label {
    -fx-text-fill: #111827 !important;
}

/* RichTextFX CodeArea für helle Themes */
.weiss-theme .code-area {
    -fx-background-color: #ffffff !important;
}
.weiss-theme .code-area .paragraph-box {
    -fx-background-color: #ffffff !important;
}
.weiss-theme .code-area .paragraph-box .paragraph-text {
    -fx-fill: #111827 !important;
}
.weiss-theme .code-area .caret {
    -fx-stroke: #111827 !important;
}
.weiss-theme .code-area .selection {
    -fx-fill: #dbeafe !important;
}

/* Pastell */
.pastell-theme .titled-pane > .title {
    -fx-background-color: #e5e7eb;
    -fx-text-fill: #111827;
}
.pastell-theme .titled-pane > *.content {
    -fx-background-color: #ffffff;
}
.pastell-theme .accordion {
    -fx-background-color: #e5e7eb;
}
.pastell-theme .text-area { 
    -fx-text-fill: #111827 !important; 
    -fx-background-color: #ffffff;
}
.pastell-theme .text-area .content { 
    -fx-background-color: #ffffff !important; 
    -fx-text-fill: #111827 !important;
}
.pastell-theme .text-field {
    -fx-text-fill: #111827 !important;
    -fx-background-color: #ffffff !important;
}
.pastell-theme .label {
    -fx-text-fill: #111827 !important;
}
.pastell-theme .button {
    -fx-text-fill: #111827 !important;
}
.pastell-theme .combo-box {
    -fx-text-fill: #111827 !important;
}
.pastell-theme .combo-box .list-cell {
    -fx-text-fill: #111827 !important;
}

/* Umschließende Boxen für Pastell-Theme */
.pastell-theme .vbox,
.pastell-theme .hbox,
.pastell-theme .border-pane,
.pastell-theme .split-pane,
.pastell-theme .scroll-pane,
.pastell-theme .pane,
.pastell-theme .region,
.pastell-theme .stack-pane,
.pastell-theme .grid-pane,
.pastell-theme .flow-pane,
.pastell-theme .tile-pane,
.pastell-theme .anchor-pane {
    -fx-background-color: #f3e5f5 !important;
}

/* SplitPane-Divider für Pastell-Theme */
.pastell-theme .split-pane-divider {
    -fx-background-color: #e1bee7 !important;
}
.pastell-theme .split-pane-divider:hover {
    -fx-background-color: #ce93d8 !important;
}

/* Spezielle Styles für Kapiteltitel-Box im Editor (Pastell) */
.pastell-theme .chapter-title-box,
.pastell-theme .chapter-title-panel,
.pastell-theme .chapter-title-container,
.pastell-theme .chapter-header,
.pastell-theme .chapter-header-panel,
.pastell-theme .chapter-header-container {
    -fx-background-color: #f3e5f5 !important;
}

.pastell-theme .chapter-title-box .label,
.pastell-theme .chapter-title-panel .label,
.pastell-theme .chapter-title-container .label,
.pastell-theme .chapter-header .label,
.pastell-theme .chapter-header-panel .label,
.pastell-theme .chapter-header-container .label {
    -fx-text-fill: #111827 !important;
}

/* RichTextFX CodeArea für Pastell-Theme */
.pastell-theme .code-area {
    -fx-background-color: #ffffff !important;
}
.pastell-theme .code-area .paragraph-box {
    -fx-background-color: #ffffff !important;
}
.pastell-theme .code-area .paragraph-box .paragraph-text {
    -fx-fill: #111827 !important;
}
.pastell-theme .code-area .caret {
    -fx-stroke: #111827 !important;
}
.pastell-theme .code-area .selection {
    -fx-fill: #f3e8ff !important;
}

/* Schwarz (dark) */
.theme-dark .titled-pane > .title {
    -fx-background-color: #2b2b2b;
    -fx-text-fill: #ffffff;
}
.theme-dark .titled-pane > *.content {
    -fx-background-color: #1e1e1e;
}
.theme-dark .accordion { -fx-background-color: #2b2b2b; }
.theme-dark .text-area { -fx-text-fill: #ffffff; }
.theme-dark .text-area .content { -fx-background-color: #1e1e1e; }

/* Grün */
.gruen-theme .titled-pane > .title {
    -fx-background-color: #065f46;
    -fx-text-fill: #ffffff;
}
.gruen-theme .titled-pane > *.content { -fx-background-color: #064e3b; }
.gruen-theme .accordion { -fx-background-color: #065f46; }
.gruen-theme .text-area { -fx-text-fill: #ffffff; }
.gruen-theme .text-area .content { -fx-background-color: #064e3b; }

/* Lila */
.lila-theme .titled-pane > .title {
    -fx-background-color: #6d28d9; /* angepasstes Lila */
    -fx-text-fill: #ffffff;
}
.lila-theme .titled-pane > *.content { -fx-background-color: #4c1d95; /* dunkleres Lila im Content */ }
.lila-theme .accordion { -fx-background-color: #7c3aed; }
.lila-theme .text-area { -fx-text-fill: #ffffff; }
.lila-theme .text-area .content { -fx-background-color: #4c1d95; }

/* Ungecheckte Checkboxes in Theme-Farbe (nur Box) */
.weiss-theme .check-box .box { -fx-background-color: #ffffff !important; -fx-border-color: #9ca3af !important; }
.pastell-theme .check-box .box { -fx-background-color: #e5e7eb !important; -fx-border-color: #9ca3af !important; }
.theme-dark .check-box .box { -fx-background-color: #2b2b2b !important; -fx-border-color: #4b5563 !important; }
.gruen-theme .check-box .box { -fx-background-color: #065f46 !important; -fx-border-color: #047857 !important; }
.lila-theme .check-box .box { -fx-background-color: #7c3aed !important; -fx-border-color: #8b5cf6 !important; }
/* Ergänzung: dunkle Theme-Varianten auch für theme-4/5/6 und blau-theme */
.theme-4 .check-box .box { -fx-background-color: #065f46 !important; -fx-border-color: #047857 !important; }
.theme-5 .check-box .box { -fx-background-color: #1e3a8a !important; -fx-border-color: #3b82f6 !important; }
.theme-6 .check-box .box { -fx-background-color: #7c3aed !important; -fx-border-color: #8b5cf6 !important; }
.blau-theme .check-box .box { -fx-background-color: #1e3a8a !important; -fx-border-color: #3b82f6 !important; }
.lila-theme .check-box .box { -fx-background-color: #7c3aed !important; -fx-border-color: #8b5cf6 !important; }
.gruen-theme .check-box .box { -fx-background-color: #065f46 !important; -fx-border-color: #047857 !important; }

/* Ausgewählte Checkboxes in dunklen Themes deutlicher hervorheben */
.theme-4 .check-box:selected .box { -fx-background-color: #047857 !important; -fx-border-color: #047857 !important; }
.theme-5 .check-box:selected .box { -fx-background-color: #3b82f6 !important; -fx-border-color: #3b82f6 !important; }
.theme-6 .check-box:selected .box { -fx-background-color: #8b5cf6 !important; -fx-border-color: #8b5cf6 !important; }
.blau-theme .check-box:selected .box { -fx-background-color: #3b82f6 !important; -fx-border-color: #3b82f6 !important; }
.gruen-theme .check-box:selected .box { -fx-background-color: #047857 !important; -fx-border-color: #047857 !important; }
.lila-theme .check-box:selected .box { -fx-background-color: #8b5cf6 !important; -fx-border-color: #8b5cf6 !important; }
.theme-4 .check-box .mark,
.theme-5 .check-box .mark,
.theme-6 .check-box .mark,
.blau-theme .check-box .mark,
.gruen-theme .check-box .mark,
.lila-theme .check-box .mark { -fx-background-color: transparent !important; }
.theme-4 .check-box:selected .mark,
.theme-5 .check-box:selected .mark,
.theme-6 .check-box:selected .mark,
.blau-theme .check-box:selected .mark,
.gruen-theme .check-box:selected .mark,
.lila-theme .check-box:selected .mark { -fx-background-color: #ffffff !important; }

/* ProgressBar-Styling */
.progress-bar {
    -fx-background-color: #e0e0e0;
    -fx-border-color: #ddd;
    -fx-border-radius: 2px;
    -fx-background-radius: 2px;
}

.progress-bar .bar {
    -fx-background-color: #4CAF50;
    -fx-background-radius: 2px;
}

/* Label-Styling */
.label {
    -fx-text-fill: #333;
}

/* VBox und HBox Styling */
.vbox, .hbox {
    -fx-background-color: transparent;
}

/* Theme-Dark - Allgemeine Regeln */
.theme-dark {
    -fx-background-color: #2d3748;
    -fx-text-fill: #ffffff;
}

.theme-dark .button {
    -fx-background-color: #4a5568;
    -fx-text-fill: #ffffff;
    -fx-border-color: #718096;
}

.theme-dark .button:hover {
    -fx-background-color: #718096;
    -fx-text-fill: #ffffff;
}

.theme-dark .button:pressed {
    -fx-background-color: #2d3748;
    -fx-text-fill: #ffffff;
}

.theme-dark .text-field {
    -fx-background-color: #4a5568;
    -fx-text-fill: #ffffff;
    -fx-border-color: #718096;
}

.theme-dark .text-field:focused {
    -fx-border-color: #3182ce;
    -fx-border-width: 2px;
}

.theme-dark .combo-box {
    -fx-background-color: #4a5568;
    -fx-text-fill: #ffffff;
    -fx-border-color: #718096;
}

.theme-dark .combo-box .list-cell {
    -fx-background-color: #4a5568;
    -fx-text-fill: #ffffff;
}

.theme-dark .combo-box-popup .list-view {
    -fx-background-color: #4a5568;
}

.theme-dark .combo-box-popup .list-view .list-cell {
    -fx-background-color: #4a5568;
    -fx-text-fill: #ffffff;
}

.theme-dark .combo-box-popup .list-view .list-cell:hover {
    -fx-background-color: #718096;
    -fx-text-fill: #ffffff;
}

/* Dropdown/ComboBox-Popup in dunklen Farbschemata (blau/grün/lila) */
.theme-5 .combo-box,
.blau-theme .combo-box { -fx-background-color: #1e3a8a; -fx-text-fill: #ffffff; -fx-border-color: #3b82f6; }
.theme-5 .combo-box .list-cell,
.blau-theme .combo-box .list-cell { -fx-background-color: #1e3a8a; -fx-text-fill: #ffffff; }
.theme-5 .combo-box-popup .list-view,
.blau-theme .combo-box-popup .list-view { -fx-background-color: #1e3a8a; }
.theme-5 .combo-box-popup .list-view .list-cell,
.blau-theme .combo-box-popup .list-view .list-cell { -fx-background-color: #1e3a8a; -fx-text-fill: #ffffff; }
.theme-5 .combo-box-popup .list-view .list-cell:hover,
.blau-theme .combo-box-popup .list-view .list-cell:hover { -fx-background-color: #2563eb; -fx-text-fill: #ffffff; }
.theme-5 .combo-box-popup .list-view .list-cell:selected,
.blau-theme .combo-box-popup .list-view .list-cell:selected { -fx-background-color: #3b82f6; -fx-text-fill: #ffffff; }

.theme-4 .combo-box,
.gruen-theme .combo-box { -fx-background-color: #064e3b; -fx-text-fill: #ffffff; -fx-border-color: #047857; }
.theme-4 .combo-box .list-cell,
.gruen-theme .combo-box .list-cell { -fx-background-color: #064e3b; -fx-text-fill: #ffffff; }
.theme-4 .combo-box-popup .list-view,
.gruen-theme .combo-box-popup .list-view { -fx-background-color: #064e3b; }
.theme-4 .combo-box-popup .list-view .list-cell,
.gruen-theme .combo-box-popup .list-view .list-cell { -fx-background-color: #064e3b; -fx-text-fill: #ffffff; }
.theme-4 .combo-box-popup .list-view .list-cell:hover,
.gruen-theme .combo-box-popup .list-view .list-cell:hover { -fx-background-color: #065f46; -fx-text-fill: #ffffff; }
.theme-4 .combo-box-popup .list-view .list-cell:selected,
.gruen-theme .combo-box-popup .list-view .list-cell:selected { -fx-background-color: #047857; -fx-text-fill: #ffffff; }

.theme-6 .combo-box,
.lila-theme .combo-box { -fx-background-color: #581c87; -fx-text-fill: #ffffff; -fx-border-color: #8b5cf6; }
.theme-6 .combo-box .list-cell,
.lila-theme .combo-box .list-cell { -fx-background-color: #581c87; -fx-text-fill: #ffffff; }
.theme-6 .combo-box-popup .list-view,
.lila-theme .combo-box-popup .list-view { -fx-background-color: #581c87; }
.theme-6 .combo-box-popup .list-view .list-cell,
.lila-theme .combo-box-popup .list-view .list-cell { -fx-background-color: #581c87; -fx-text-fill: #ffffff; }
.theme-6 .combo-box-popup .list-view .list-cell:hover,
.lila-theme .combo-box-popup .list-view .list-cell:hover { -fx-background-color: #7c3aed; -fx-text-fill: #ffffff; }
.theme-6 .combo-box-popup .list-view .list-cell:selected,
.lila-theme .combo-box-popup .list-view .list-cell:selected { -fx-background-color: #8b5cf6; -fx-text-fill: #ffffff; }

/* Fix: Dunkle Themes – Popup-Hintergründe und Zellen lesbar machen (global, für alle Fenster) */
.theme-dark .combo-box-popup .list-view {
  -fx-background-color: #2d2d2d !important;
  -fx-border-color: #404040 !important;
}
.theme-dark .combo-box-popup .list-view .list-cell { -fx-background-color: #2d2d2d !important; -fx-text-fill: #ffffff !important; }
.theme-dark .combo-box-popup .list-view .list-cell:hover { -fx-background-color: #404040 !important; }
.theme-dark .combo-box-popup .list-view .list-cell:selected { -fx-background-color: #505050 !important; -fx-text-fill: #ffffff !important; }

.theme-dark.blau-theme .combo-box-popup .list-view { -fx-background-color: #1e40af !important; -fx-border-color: #3b82f6 !important; }
.theme-dark.blau-theme .combo-box-popup .list-view .list-cell { -fx-background-color: #1e40af !important; -fx-text-fill: #ffffff !important; }
.theme-dark.blau-theme .combo-box-popup .list-view .list-cell:hover { -fx-background-color: #2563eb !important; }
.theme-dark.blau-theme .combo-box-popup .list-view .list-cell:selected { -fx-background-color: #3b82f6 !important; -fx-text-fill: #ffffff !important; }

.theme-dark.gruen-theme .combo-box-popup .list-view { -fx-background-color: #065f46 !important; -fx-border-color: #059669 !important; }
.theme-dark.gruen-theme .combo-box-popup .list-view .list-cell { -fx-background-color: #065f46 !important; -fx-text-fill: #ffffff !important; }
.theme-dark.gruen-theme .combo-box-popup .list-view .list-cell:hover { -fx-background-color: #047857 !important; }
.theme-dark.gruen-theme .combo-box-popup .list-view .list-cell:selected { -fx-background-color: #059669 !important; -fx-text-fill: #ffffff !important; }

.theme-dark.lila-theme .combo-box-popup .list-view { -fx-background-color: #5b21b6 !important; -fx-border-color: #7c3aed !important; }
.theme-dark.lila-theme .combo-box-popup .list-view .list-cell { -fx-background-color: #5b21b6 !important; -fx-text-fill: #ffffff !important; }
.theme-dark.lila-theme .combo-box-popup .list-view .list-cell:hover { -fx-background-color: #6d28d9 !important; }
.theme-dark.lila-theme .combo-box-popup .list-view .list-cell:selected { -fx-background-color: #7c3aed !important; -fx-text-fill: #ffffff !important; }

/* Fix: Dunkle Themes – Arrow-Button nicht transparent (global) */
.theme-dark .combo-box .arrow-button { -fx-background-color: #4a5568 !important; }
.theme-dark.blau-theme .combo-box .arrow-button { -fx-background-color: #2563eb !important; }
.theme-dark.gruen-theme .combo-box .arrow-button { -fx-background-color: #059669 !important; }
.theme-dark.lila-theme .combo-box .arrow-button { -fx-background-color: #7c3aed !important; }

/* Einheitliche Pfeil-/Mark-Farbe in dunklen Themes (dauerhaft, nicht nur initial) */
.theme-dark .combo-box-base { -fx-mark-color: #ffffff !important; }
.blau-theme .combo-box-base { -fx-mark-color: #ffffff !important; }
.gruen-theme .combo-box-base { -fx-mark-color: #ffffff !important; }
.lila-theme .combo-box-base { -fx-mark-color: #ffffff !important; }

/* Auch ChoiceBox und MenuButton in dunklen Themes */
.theme-dark .choice-box, .blau-theme .choice-box, .gruen-theme .choice-box, .lila-theme .choice-box { -fx-mark-color: #ffffff !important; }
.theme-dark .menu-button, .blau-theme .menu-button, .gruen-theme .menu-button, .lila-theme .menu-button { -fx-mark-color: #ffffff !important; }
/* Generische Fallbacks für alle dunklen Themes (falls Farbkasse noch nicht gesetzt) */
/* Entfernt auf Wunsch des Nutzers */
.theme-dark .choice-box .arrow { -fx-background-color: #ffffff; }
.theme-dark .choice-box .arrow-button { -fx-background-color: #4b5563; }
.theme-dark .menu-button .arrow { -fx-background-color: #ffffff; }
.theme-dark .menu-button .arrow-button { -fx-background-color: #4b5563; }

/* Pfeil (Dreieck) im ComboBox-Button in dunklen Themes sichtbar machen */
.theme-4 .combo-box .arrow-button,
.gruen-theme .combo-box .arrow-button { -fx-background-color: #047857; }
.theme-5 .combo-box .arrow-button,
.blau-theme .combo-box .arrow-button { -fx-background-color: #2563eb; }
.theme-6 .combo-box .arrow-button,
.lila-theme .combo-box .arrow-button { -fx-background-color: #4c1d95; }
.theme-4 .combo-box .arrow,
.gruen-theme .combo-box .arrow,
.theme-5 .combo-box .arrow,
.blau-theme .combo-box .arrow,
.theme-6 .combo-box .arrow,
.lila-theme .combo-box .arrow { -fx-background-color: #ffffff; }

/* Für lila-Theme Mark-Farbe explizit setzen (wirkt auf Pfeil in einigen Skins) */
.theme-6 .combo-box,
.lila-theme .combo-box { -fx-mark-color: #ffffff; }

/* Hover-Zustand für Pfeilbutton (leicht heller) */
.theme-4 .combo-box .arrow-button:hover,
.gruen-theme .combo-box .arrow-button:hover { -fx-background-color: #059669; }
.theme-5 .combo-box .arrow-button:hover,
.blau-theme .combo-box .arrow-button:hover { -fx-background-color: #3b82f6; }
.theme-6 .combo-box .arrow-button:hover,
.lila-theme .combo-box .arrow-button:hover { -fx-background-color: #6d28d9; }

/* Pastell-Theme: sichtbare ComboBox-Pfeile */
.pastell-theme .combo-box { -fx-mark-color: #111827; }
.pastell-theme .combo-box .arrow-button { -fx-background-color: #d1d5db; }
.pastell-theme .combo-box .arrow { -fx-background-color: #111827; }
.pastell-theme .combo-box .arrow-button:hover { -fx-background-color: #9ca3af; }
/* Falls die Theme-Klasse direkt am Control hängt */
.combo-box.pastell-theme { -fx-mark-color: #111827; }
.combo-box.pastell-theme .arrow-button { -fx-background-color: #d1d5db; }
.combo-box.pastell-theme .arrow { -fx-background-color: #111827 !important; -fx-background-insets: 0; }
.combo-box.pastell-theme .arrow-button:hover { -fx-background-color: #9ca3af; }

/* Zusätzliche Fallbacks für ähnliche Controls im Pastell-Theme */
.pastell-theme .choice-box { -fx-mark-color: #111827; }
.pastell-theme .choice-box .arrow-button { -fx-background-color: #d1d5db; }
.pastell-theme .choice-box .arrow { -fx-background-color: #111827; }
.choice-box.pastell-theme { -fx-mark-color: #111827; }
.choice-box.pastell-theme .arrow-button { -fx-background-color: #d1d5db; }
.choice-box.pastell-theme .arrow { -fx-background-color: #111827 !important; -fx-background-insets: 0; }

.pastell-theme .menu-button .arrow-button { -fx-background-color: #d1d5db; }
.pastell-theme .menu-button .arrow { -fx-background-color: #111827; }
.menu-button.pastell-theme .arrow-button { -fx-background-color: #d1d5db; }
.menu-button.pastell-theme .arrow { -fx-background-color: #111827 !important; -fx-background-insets: 0; }

/* Falls ein Skin den Pfeil über -fx-shape zeichnet */
.pastell-theme .combo-box .arrow, 
.pastell-theme .choice-box .arrow, 
.pastell-theme .menu-button .arrow {
  -fx-shape: "M 0 0 L 6 0 L 3 4 z";
}

/* Scrollbar-Handle (Thumb) in ComboBox-Popups, damit sichtbar auf dunklem Hintergrund */
.theme-4 .combo-box-popup .list-view .scroll-bar:vertical .thumb,
.gruen-theme .combo-box-popup .list-view .scroll-bar:vertical .thumb { -fx-background-color: #10b981; -fx-background-insets: 0; -fx-background-radius: 4; }
.theme-5 .combo-box-popup .list-view .scroll-bar:vertical .thumb,
.blau-theme .combo-box-popup .list-view .scroll-bar:vertical .thumb { -fx-background-color: #60a5fa; -fx-background-insets: 0; -fx-background-radius: 4; }
.theme-6 .combo-box-popup .list-view .scroll-bar:vertical .thumb,
.lila-theme .combo-box-popup .list-view .scroll-bar:vertical .thumb { -fx-background-color: #c4b5fd; -fx-background-insets: 0; -fx-background-radius: 4; }

/* Fallback: Popup erbt nicht immer Theme-Styleklassen → global helles Thumb setzen */
.combo-box-popup .list-view .scroll-bar .thumb {
    -fx-background-color: #9ca3af;
    -fx-background-insets: 0;
    -fx-background-radius: 4;
}
.combo-box-popup .list-view .scroll-bar .track {
    -fx-background-color: rgba(255,255,255,0.15);
}
.combo-box-popup .list-view .scroll-bar .increment-button,
.combo-box-popup .list-view .scroll-bar .decrement-button {
    -fx-background-color: transparent;
}

/* SplitPane Divider/Handle in dunklen Themes sichtbar machen */
.theme-4 .split-pane > .split-pane-divider,
.gruen-theme .split-pane > .split-pane-divider,
.theme-5 .split-pane > .split-pane-divider,
.blau-theme .split-pane > .split-pane-divider,
.theme-6 .split-pane > .split-pane-divider,
.lila-theme .split-pane > .split-pane-divider {
    -fx-background-color: rgba(255,255,255,0.20);
}
.theme-4 .split-pane > .split-pane-divider:hover,
.gruen-theme .split-pane > .split-pane-divider:hover,
.theme-5 .split-pane > .split-pane-divider:hover,
.blau-theme .split-pane > .split-pane-divider:hover,
.theme-6 .split-pane > .split-pane-divider:hover,
.lila-theme .split-pane > .split-pane-divider:hover {
    -fx-background-color: rgba(255,255,255,0.35);
}

.theme-dark .check-box {
    -fx-text-fill: #ffffff;
}

.theme-dark .check-box .box {
    -fx-background-color: #4a5568;
    -fx-border-color: #718096;
}

.theme-dark .check-box:selected .box {
    -fx-background-color: #3182ce;
    -fx-border-color: #3182ce;
}

.theme-dark .check-box .mark {
    -fx-background-color: transparent;
}

.theme-dark .check-box:selected .mark {
    -fx-background-color: #ffffff;
}

.theme-dark .label {
    -fx-text-fill: #ffffff;
}

.theme-dark .vbox, .theme-dark .hbox {
    -fx-background-color: #2d3748;
}

/* Spezielle Styling für Status-Label */
#lblStatus {
    -fx-font-style: italic;
    -fx-text-fill: #666;
}

/* Help-Button Styling */
.help-button {
    -fx-background-color: #007bff !important;
    -fx-text-fill: white !important;
    -fx-border-radius: 12px;
    -fx-background-radius: 12px;
    -fx-cursor: hand;
    -fx-font-weight: bold;
    -fx-min-width: 25px;
    -fx-min-height: 25px;
    -fx-content-display: center; /* erzwinge Text/Graphic zentriert */
    -fx-font-size: 14px !important; /* Größere Schrift für bessere Sichtbarkeit */
}

.help-button:hover { -fx-background-color: #0056b3 !important; }
.help-button:pressed { -fx-background-color: #004085 !important; } 

/* Theme-spezifische Hilfe-Buttons */
.weiss-theme .help-button { -fx-background-color: #e5e7eb !important; -fx-text-fill: #111827 !important; }
.pastell-theme .help-button { -fx-background-color: #d1d5db !important; -fx-text-fill: #111827 !important; }
.theme-dark .help-button { -fx-background-color: #4a5568 !important; -fx-text-fill: #ffffff !important; }
.blau-theme .help-button { -fx-background-color: #2563eb !important; -fx-text-fill: #ffffff !important; }
.gruen-theme .help-button { -fx-background-color: #059669 !important; -fx-text-fill: #ffffff !important; }
.lila-theme .help-button { -fx-background-color: #7c3aed !important; -fx-text-fill: #ffffff !important; }

/* Spezielle Regel für den Regex-Hilfebutton - Text muss IMMER sichtbar sein */
#btnRegexHelp {
    -fx-text-fill: inherit !important;
    -fx-font-weight: bold !important;
    -fx-font-size: 14px !important;
    -fx-content-display: center !important;
}

/* Theme-spezifische Regex-Hilfebutton-Regeln */
.weiss-theme #btnRegexHelp { -fx-text-fill: #111827 !important; }
.pastell-theme #btnRegexHelp { -fx-text-fill: #111827 !important; }
.theme-dark #btnRegexHelp { -fx-text-fill: #ffffff !important; }
.blau-theme #btnRegexHelp { -fx-text-fill: #ffffff !important; }
.gruen-theme #btnRegexHelp { -fx-text-fill: #ffffff !important; }
.lila-theme #btnRegexHelp { -fx-text-fill: #ffffff !important; }

/* WICHTIG: Help-Buttons überschreiben .root .button Regeln */
.root .help-button {
    -fx-background-color: #007bff !important;
    -fx-text-fill: white !important;
    -fx-border-radius: 12px !important;
    -fx-background-radius: 12px !important;
    -fx-cursor: hand !important;
    -fx-font-weight: bold !important;
    -fx-min-width: 25px !important;
    -fx-min-height: 25px !important;
    -fx-content-display: center !important;
    -fx-font-size: 14px !important;
    -fx-padding: 4px !important;
}

.root .help-button:hover { -fx-background-color: #0056b3 !important; }
.root .help-button:pressed { -fx-background-color: #004085 !important; }

/* Theme-spezifische Help-Button-Regeln für .root */
.root .weiss-theme .help-button { -fx-background-color: #e5e7eb !important; -fx-text-fill: #111827 !important; }
.root .pastell-theme .help-button { -fx-background-color: #d1d5db !important; -fx-text-fill: #111827 !important; }
.root .theme-dark .help-button { -fx-background-color: #4a5568 !important; -fx-text-fill: #ffffff !important; }
.root .blau-theme .help-button { -fx-background-color: #2563eb !important; -fx-text-fill: #ffffff !important; }
.root .gruen-theme .help-button { -fx-background-color: #059669 !important; -fx-text-fill: #ffffff !important; }
.root .lila-theme .help-button { -fx-background-color: #7c3aed !important; -fx-text-fill: #ffffff !important; }

/* Regex-Hilfe Fensterelemente */
.regex-help { -fx-background-color: #ffffff; }
.weiss-theme .regex-help { -fx-background-color: #ffffff; }
.pastell-theme .regex-help { -fx-background-color: #e5e7eb; }
.theme-dark .regex-help { -fx-background-color: #2b2b2b; }
.blau-theme .regex-help { -fx-background-color: #1e3a8a; }
.gruen-theme .regex-help { -fx-background-color: #064e3b; }
.lila-theme .regex-help { -fx-background-color: #581c87; }

.regex-help-title { -fx-font-size: 18px; -fx-font-weight: bold; }
.weiss-theme .regex-help-title, .pastell-theme .regex-help-title { -fx-text-fill: #111827; }
.theme-dark .regex-help-title, .blau-theme .regex-help-title, .gruen-theme .regex-help-title, .lila-theme .regex-help-title { -fx-text-fill: #ffffff; }

/* Textfarben im Regex-Hilfe-Inhalt theme-sicher (überschreibt Inline-Farben) */
.weiss-theme .regex-help .label,
.pastell-theme .regex-help .label { -fx-text-fill: #111827 !important; }
.theme-dark .regex-help .label,
.blau-theme .regex-help .label,
.gruen-theme .regex-help .label,
.lila-theme .regex-help .label { -fx-text-fill: #ffffff !important; }

/* Dialog-Header themensicher (Ungespeicherte Änderungen etc.) */
.weiss-theme.dialog-pane > .header-panel,
.weiss-theme .dialog-pane > .header-panel {
  -fx-background-color: #f3f4f6 !important;
  -fx-background-insets: 0 !important;
  -fx-padding: 8 12 8 12 !important;
}
.weiss-theme.dialog-pane > .header-panel > .label,
.weiss-theme .dialog-pane > .header-panel > .label {
  -fx-text-fill: #111827 !important;
}

.pastell-theme.dialog-pane > .header-panel,
.pastell-theme .dialog-pane > .header-panel {
  -fx-background-color: #e9d5ff !important;
  -fx-background-insets: 0 !important;
  -fx-padding: 8 12 8 12 !important;
}
.pastell-theme.dialog-pane > .header-panel > .label,
.pastell-theme .dialog-pane > .header-panel > .label {
  -fx-text-fill: #111827 !important;
}

.theme-dark.blau-theme.dialog-pane > .header-panel,
.theme-dark.blau-theme .dialog-pane > .header-panel {
  -fx-background-color: #1e3a8a !important;
  -fx-background-insets: 0 !important;
  -fx-padding: 8 12 8 12 !important;
}
.theme-dark.blau-theme.dialog-pane > .header-panel > .label,
.theme-dark.blau-theme .dialog-pane > .header-panel > .label {
  -fx-text-fill: #ffffff !important;
}

.theme-dark.gruen-theme.dialog-pane > .header-panel,
.theme-dark.gruen-theme .dialog-pane > .header-panel {
  -fx-background-color: #064e3b !important;
  -fx-background-insets: 0 !important;
  -fx-padding: 8 12 8 12 !important;
}
.theme-dark.gruen-theme.dialog-pane > .header-panel > .label,
.theme-dark.gruen-theme .dialog-pane > .header-panel > .label {
  -fx-text-fill: #ffffff !important;
}

.theme-dark.lila-theme.dialog-pane > .header-panel,
.theme-dark.lila-theme .dialog-pane > .header-panel {
  -fx-background-color: #581c87 !important;
  -fx-background-insets: 0 !important;
  -fx-padding: 8 12 8 12 !important;
}
.theme-dark.lila-theme.dialog-pane > .header-panel > .label,
.theme-dark.lila-theme .dialog-pane > .header-panel > .label {
  -fx-text-fill: #ffffff !important;
}

/* Prompt-Preview Button neben Generieren */
.weiss-theme .button.prompt-preview,
.pastell-theme .button.prompt-preview,
.theme-dark.blau-theme .button.prompt-preview,
.theme-dark.gruen-theme .button.prompt-preview,
.theme-dark.lila-theme .button.prompt-preview,
.theme-dark .button.prompt-preview {
    -fx-font-size: 12px;
    -fx-padding: 2 6;
    -fx-background-radius: 6;
}

.weiss-theme .button.prompt-preview { -fx-background-color: #f0f0f0; -fx-text-fill: #111111; }
.pastell-theme .button.prompt-preview { -fx-background-color: #e1bee7; -fx-text-fill: #111111; }
.theme-dark.blau-theme .button.prompt-preview { -fx-background-color: #2563eb; -fx-text-fill: #ffffff; }
.theme-dark.gruen-theme .button.prompt-preview { -fx-background-color: #059669; -fx-text-fill: #ffffff; }
.theme-dark.lila-theme .button.prompt-preview { -fx-background-color: #7c3aed; -fx-text-fill: #ffffff; }
.theme-dark .button.prompt-preview { -fx-background-color: #2d2d2d; -fx-text-fill: #ffffff; }

/* Theme-spezifische ComboBox-Popups für das Makro-Fenster (isoliert über .macro-panel) */
.pastell-theme .macro-panel .combo-box,
.pastell-theme .macro-panel .combo-box .list-cell {
    -fx-background-color: #e5e7eb !important;
    -fx-text-fill: #111827 !important;
}
.pastell-theme .macro-panel .combo-box-popup .list-view,
.pastell-theme .macro-panel .combo-box-popup .list-view .list-cell {
    -fx-background-color: #f3f4f6 !important;
    -fx-text-fill: #111827 !important;
}
.pastell-theme .macro-panel .combo-box-popup .list-view .list-cell:hover {
    -fx-background-color: #d1d5db !important;
}
.pastell-theme .macro-panel .combo-box-popup .list-view .list-cell:selected {
    -fx-background-color: #93c5fd !important;
    -fx-text-fill: #111827 !important;
}

.blau-theme .macro-panel .combo-box,
.blau-theme .macro-panel .combo-box .list-cell {
    -fx-background-color: #1e3a8a !important;
    -fx-text-fill: #ffffff !important;
}
.blau-theme .macro-panel .combo-box-popup .list-view,
.blau-theme .macro-panel .combo-box-popup .list-view .list-cell {
    -fx-background-color: #1e3a8a !important;
    -fx-text-fill: #ffffff !important;
}
.blau-theme .macro-panel .combo-box-popup .list-view .list-cell:hover {
    -fx-background-color: #2563eb !important;
}
.blau-theme .macro-panel .combo-box-popup .list-view .list-cell:selected {
    -fx-background-color: #3b82f6 !important;
    -fx-text-fill: #ffffff !important;
}

.gruen-theme .macro-panel .combo-box,
.gruen-theme .macro-panel .combo-box .list-cell {
    -fx-background-color: #064e3b !important;
    -fx-text-fill: #ffffff !important;
}
.gruen-theme .macro-panel .combo-box-popup .list-view,
.gruen-theme .macro-panel .combo-box-popup .list-view .list-cell {
    -fx-background-color: #064e3b !important;
    -fx-text-fill: #ffffff !important;
}
.gruen-theme .macro-panel .combo-box-popup .list-view .list-cell:hover {
    -fx-background-color: #065f46 !important;
}
.gruen-theme .macro-panel .combo-box-popup .list-view .list-cell:selected {
    -fx-background-color: #047857 !important;
    -fx-text-fill: #ffffff !important;
}

.lila-theme .macro-panel .combo-box,
.lila-theme .macro-panel .combo-box .list-cell {
    -fx-background-color: #581c87 !important;
    -fx-text-fill: #ffffff !important;
}
.lila-theme .macro-panel .combo-box-popup .list-view,
.lila-theme .macro-panel .combo-box-popup .list-view .list-cell {
    -fx-background-color: #581c87 !important;
    -fx-text-fill: #ffffff !important;
}
.lila-theme .macro-panel .combo-box-popup .list-view .list-cell:hover {
    -fx-background-color: #7c3aed !important;
}
.lila-theme .macro-panel .combo-box-popup .list-view .list-cell:selected {
    -fx-background-color: #8b5cf6 !important;
    -fx-text-fill: #ffffff !important;
}
/* Isoliertes Styling für die Makro-Tabelle, inkl. schwieriger Subregionen */
.macro-table,
.macro-table .virtual-flow .clipped-container .sheet,
.macro-table .column-header-background,
.macro-table .placeholder,
.macro-table .corner,
.macro-table .filler { -fx-background-color: inherit !important; }

.weiss-theme .macro-table,
.weiss-theme .macro-table .virtual-flow .clipped-container .sheet,
.weiss-theme .macro-table .column-header-background,
.weiss-theme .macro-table .placeholder,
.weiss-theme .macro-table .corner,
.weiss-theme .macro-table .filler { -fx-background-color: #ffffff !important; }

.pastell-theme .macro-table,
.pastell-theme .macro-table .virtual-flow .clipped-container .sheet,
.pastell-theme .macro-table .column-header-background,
.pastell-theme .macro-table .placeholder,
.pastell-theme .macro-table .corner,
.pastell-theme .macro-table .filler { -fx-background-color: #e5e7eb !important; }

.theme-dark .macro-table,
.theme-dark .macro-table .virtual-flow .clipped-container .sheet,
.theme-dark .macro-table .column-header-background,
.theme-dark .macro-table .placeholder,
.theme-dark .macro-table .corner,
.theme-dark .macro-table .filler { -fx-background-color: #2d3748 !important; }

.blau-theme .macro-table,
.blau-theme .macro-table .virtual-flow .clipped-container .sheet,
.blau-theme .macro-table .column-header-background,
.blau-theme .macro-table .placeholder,
.blau-theme .macro-table .corner,
.blau-theme .macro-table .filler { -fx-background-color: #1e3a8a !important; }

.gruen-theme .macro-table,
.gruen-theme .macro-table .virtual-flow .clipped-container .sheet,
.gruen-theme .macro-table .column-header-background,
.gruen-theme .macro-table .placeholder,
.gruen-theme .macro-table .corner,
.gruen-theme .macro-table .filler { -fx-background-color: #064e3b !important; }

.lila-theme .macro-table,
.lila-theme .macro-table .virtual-flow .clipped-container .sheet,
.lila-theme .macro-table .column-header-background,
.lila-theme .macro-table .placeholder,
.lila-theme .macro-table .corner,
.lila-theme .macro-table .filler { -fx-background-color: #581c87 !important; }

/* Wortwiederholungen-Markierung */
/* RichTextFX-spezifische Markierung-Klassen */
.code-area .search-match-first {
    -rtfx-background-color: #ff9800 !important;
    -fx-text-fill: #000000 !important;
}
.code-area .search-match-second {
    -rtfx-background-color: #4fc3f7 !important;
    -fx-text-fill: #000000 !important;
}

/* Neue Markierung-Klassen */
.code-area .highlight-yellow {
    -rtfx-background-color: #ffeb3b !important;
    -fx-text-fill: #000000 !important;
}
.code-area .highlight-orange {
    -rtfx-background-color: #ff9800 !important;
    -fx-text-fill: #000000 !important;
}

/* Plugin Editor Styles */
.plugin-editor-toolbar {
    -fx-background-color: #f8f9fa;
    -fx-border-color: #dee2e6;
    -fx-border-width: 0 0 1 0;
}

.plugin-editor-button {
    -fx-background-color: #007bff;
    -fx-text-fill: #ffffff;
    -fx-border-radius: 3;
    -fx-padding: 5 10;
}

.plugin-editor-button:hover {
    -fx-background-color: #0056b3;
}

.plugin-editor-metadata-panel {
    -fx-background-color: #f8f9fa;
    -fx-border-color: #dee2e6;
    -fx-border-width: 1;
    -fx-border-radius: 5;
    -fx-padding: 15;
}

.plugin-editor-title {
    -fx-font-weight: bold;
    -fx-font-size: 16px;
    -fx-text-fill: #495057;
}

.plugin-editor-prompt-panel {
    -fx-background-color: #f5f5f5;
    -fx-border-color: #ddd;
    -fx-border-width: 1;
    -fx-border-radius: 5;
    -fx-padding: 10;
}

.plugin-editor-prompt-label {
    -fx-font-weight: bold;
    -fx-font-size: 14px;
}

.plugin-editor-codearea {
    -fx-background-color: #ffffff;
    -fx-text-fill: #000000;
    -fx-border-color: #ddd;
    -fx-border-radius: 3;
}

.plugin-editor-statusbar {
    -fx-background-color: #f0f0f0;
    -fx-border-color: #ddd;
    -fx-border-width: 1 0 0 0;
}

.plugin-editor-status-label {
    -fx-font-size: 12px;
}

/* Theme-spezifische Anpassungen für Plugin Editor */

/* Weiß-Theme (Theme 0) */
.weiss-theme .plugin-editor-toolbar {
    -fx-background-color: #f8f9fa;
    -fx-border-color: #dee2e6;
}

.weiss-theme .plugin-editor-button {
    -fx-background-color: #007bff;
    -fx-text-fill: #ffffff;
}

.weiss-theme .plugin-editor-button:hover {
    -fx-background-color: #0056b3;
}

.weiss-theme .plugin-editor-metadata-panel {
    -fx-background-color: #f8f9fa;
    -fx-border-color: #dee2e6;
}

.weiss-theme .plugin-editor-title {
    -fx-text-fill: #495057;
}

.weiss-theme .plugin-editor-prompt-panel {
    -fx-background-color: #f5f5f5;
    -fx-border-color: #ddd;
}

.weiss-theme .plugin-editor-prompt-label {
    -fx-text-fill: #495057;
}

.weiss-theme .plugin-editor-codearea {
    -fx-background-color: #ffffff;
    -fx-text-fill: #000000;
    -fx-border-color: #ddd;
}

/* CodeArea Text-Farbe für Weiß-Theme */
.weiss-theme .plugin-editor-codearea .text {
    -fx-fill: #000000;
}

.weiss-theme .plugin-editor-codearea .paragraph-box:has-caret {
    -fx-background-color: #e3f2fd;
}

.weiss-theme .plugin-editor-statusbar {
    -fx-background-color: #f0f0f0;
    -fx-border-color: #ddd;
}

.weiss-theme .plugin-editor-status-label {
    -fx-text-fill: #495057;
}

/* Pastell-Theme (Theme 2) */
.pastell-theme .plugin-editor-toolbar {
    -fx-background-color: #f8f9fa;
    -fx-border-color: #dee2e6;
}

.pastell-theme .plugin-editor-button {
    -fx-background-color: #007bff;
    -fx-text-fill: #ffffff;
}

.pastell-theme .plugin-editor-button:hover {
    -fx-background-color: #0056b3;
}

.pastell-theme .plugin-editor-metadata-panel {
    -fx-background-color: #f8f9fa;
    -fx-border-color: #dee2e6;
}

.pastell-theme .plugin-editor-title {
    -fx-text-fill: #495057;
}

.pastell-theme .plugin-editor-prompt-panel {
    -fx-background-color: #f5f5f5;
    -fx-border-color: #ddd;
}

.pastell-theme .plugin-editor-prompt-label {
    -fx-text-fill: #495057;
}

.pastell-theme .plugin-editor-codearea {
    -fx-background-color: #ffffff;
    -fx-text-fill: #000000;
    -fx-border-color: #ddd;
}

/* CodeArea Text-Farbe für Pastell-Theme */
.pastell-theme .plugin-editor-codearea .text {
    -fx-fill: #000000;
}

.pastell-theme .plugin-editor-codearea .paragraph-box:has-caret {
    -fx-background-color: #e3f2fd;
}

.pastell-theme .plugin-editor-statusbar {
    -fx-background-color: #f0f0f0;
    -fx-border-color: #ddd;
}

.pastell-theme .plugin-editor-status-label {
    -fx-text-fill: #495057;
}

/* Dunkles Theme (Theme 1, 6+) */
.theme-dark .plugin-editor-toolbar {
    -fx-background-color: #2d3748;
    -fx-border-color: #4a5568;
}

.theme-dark .plugin-editor-button {
    -fx-background-color: #3182ce;
    -fx-text-fill: #ffffff;
}

.theme-dark .plugin-editor-button:hover {
    -fx-background-color: #2c5aa0;
}

.theme-dark .plugin-editor-metadata-panel {
    -fx-background-color: #2d3748;
    -fx-border-color: #4a5568;
}

.theme-dark .plugin-editor-title {
    -fx-text-fill: #ffffff;
}

.theme-dark .plugin-editor-prompt-panel {
    -fx-background-color: #2d3748;
    -fx-border-color: #4a5568;
}

.theme-dark .plugin-editor-prompt-label {
    -fx-text-fill: #ffffff;
}

.theme-dark .plugin-editor-codearea {
    -fx-background-color: #1a202c;
    -fx-text-fill: #ffffff;
    -fx-border-color: #4a5568;
}

/* CodeArea Text-Farbe für Dunkles Theme */
.theme-dark .plugin-editor-codearea .text {
    -fx-fill: #ffffff;
}

.theme-dark .plugin-editor-codearea .paragraph-box:has-caret {
    -fx-background-color: #2d3748;
}

.theme-dark .plugin-editor-statusbar {
    -fx-background-color: #2d3748;
    -fx-border-color: #4a5568;
}

.theme-dark .plugin-editor-status-label {
    -fx-text-fill: #ffffff;
}

/* Blau-Theme (Theme 3) */
.theme-dark.blau-theme .plugin-editor-toolbar {
    -fx-background-color: #1e3a8a;
    -fx-border-color: #3b82f6;
}

.theme-dark.blau-theme .plugin-editor-button {
    -fx-background-color: #3b82f6;
    -fx-text-fill: #ffffff;
}

.theme-dark.blau-theme .plugin-editor-button:hover {
    -fx-background-color: #2563eb;
}

.theme-dark.blau-theme .plugin-editor-metadata-panel {
    -fx-background-color: #1e3a8a;
    -fx-border-color: #3b82f6;
}

.theme-dark.blau-theme .plugin-editor-title {
    -fx-text-fill: #ffffff;
}

.theme-dark.blau-theme .plugin-editor-prompt-panel {
    -fx-background-color: #1e3a8a;
    -fx-border-color: #3b82f6;
}

.theme-dark.blau-theme .plugin-editor-prompt-label {
    -fx-text-fill: #ffffff;
}

.theme-dark.blau-theme .plugin-editor-codearea {
    -fx-background-color: #1e1b4b;
    -fx-text-fill: #ffffff;
    -fx-border-color: #3b82f6;
}

/* CodeArea Text-Farbe für Blau-Theme */
.theme-dark.blau-theme .plugin-editor-codearea .text {
    -fx-fill: #ffffff;
}

.theme-dark.blau-theme .plugin-editor-codearea .paragraph-box:has-caret {
    -fx-background-color: #312e81;
}

.theme-dark.blau-theme .plugin-editor-statusbar {
    -fx-background-color: #1e3a8a;
    -fx-border-color: #3b82f6;
}

.theme-dark.blau-theme .plugin-editor-status-label {
    -fx-text-fill: #ffffff;
}

/* Grün-Theme (Theme 4) */
.theme-dark.gruen-theme .plugin-editor-toolbar {
    -fx-background-color: #064e3b;
    -fx-border-color: #047857;
}

.theme-dark.gruen-theme .plugin-editor-button {
    -fx-background-color: #047857;
    -fx-text-fill: #ffffff;
}

.theme-dark.gruen-theme .plugin-editor-button:hover {
    -fx-background-color: #065f46;
}

.theme-dark.gruen-theme .plugin-editor-metadata-panel {
    -fx-background-color: #064e3b;
    -fx-border-color: #047857;
}

.theme-dark.gruen-theme .plugin-editor-title {
    -fx-text-fill: #ffffff;
}

.theme-dark.gruen-theme .plugin-editor-prompt-panel {
    -fx-background-color: #064e3b;
    -fx-border-color: #047857;
}

.theme-dark.gruen-theme .plugin-editor-prompt-label {
    -fx-text-fill: #ffffff;
}

.theme-dark.gruen-theme .plugin-editor-codearea {
    -fx-background-color: #064e3b;
    -fx-text-fill: #ffffff;
    -fx-border-color: #047857;
}

/* CodeArea Text-Farbe für Grün-Theme - WICHTIG! */
.theme-dark.gruen-theme .plugin-editor-codearea .text {
    -fx-fill: #ffffff;
}

.theme-dark.gruen-theme .plugin-editor-codearea .paragraph-box:has-caret {
    -fx-background-color: #065f46;
}

.theme-dark.gruen-theme .plugin-editor-statusbar {
    -fx-background-color: #064e3b;
    -fx-border-color: #047857;
}

.theme-dark.gruen-theme .plugin-editor-status-label {
    -fx-text-fill: #ffffff;
}

/* Lila-Theme (Theme 5) */
.theme-dark.lila-theme .plugin-editor-toolbar {
    -fx-background-color: #581c87;
    -fx-border-color: #8b5cf6;
}

.theme-dark.lila-theme .plugin-editor-button {
    -fx-background-color: #8b5cf6;
    -fx-text-fill: #ffffff;
}

.theme-dark.lila-theme .plugin-editor-button:hover {
    -fx-background-color: #7c3aed;
}

.theme-dark.lila-theme .plugin-editor-metadata-panel {
    -fx-background-color: #581c87;
    -fx-border-color: #8b5cf6;
}

.theme-dark.lila-theme .plugin-editor-title {
    -fx-text-fill: #ffffff;
}

.theme-dark.lila-theme .plugin-editor-prompt-panel {
    -fx-background-color: #581c87;
    -fx-border-color: #8b5cf6;
}

.theme-dark.lila-theme .plugin-editor-prompt-label {
    -fx-text-fill: #ffffff;
}

.theme-dark.lila-theme .plugin-editor-codearea {
    -fx-background-color: #2e1065;
    -fx-text-fill: #ffffff;
    -fx-border-color: #8b5cf6;
}

/* CodeArea Text-Farbe für Lila-Theme */
.theme-dark.lila-theme .plugin-editor-codearea .text {
    -fx-fill: #ffffff;
}

.theme-dark.lila-theme .plugin-editor-codearea .paragraph-box:has-caret {
    -fx-background-color: #4c1d95;
}

.theme-dark.lila-theme .plugin-editor-statusbar {
    -fx-background-color: #581c87;
    -fx-border-color: #8b5cf6;
}

.theme-dark.lila-theme .plugin-editor-status-label {
    -fx-text-fill: #ffffff;
} 